//This script is part of Ninique's Dollmaker Script (http://minidollz.ninique.net)
/* NEO fork by Lotte V (https://lottev.moe | https://github.com/lottev1991) */
/* This is the "portable version" of the draggable code. You can easily embed this in any type of page layout. */
// --------------------------------------------------
$(function(){$(".pieces-area").find("img").draggable({stack:".ui-draggable",distance:0,containment:"document"}),$("#body-area").droppable({tolerance:"touch"}),$(".pieces-area").css("overflow","visible");let e=document.getElementById("body-area"),o=e.offsetWidth,n=e.offsetHeight,t=e.offsetLeft,a=e.offsetTop;$("#download-button").on("click",function(){html2canvas(document.querySelector("#dollmaker-container"),{onclone:function(e){!function e(o){$(o).find("#dollmaker-container, #dollmaker-container > div").css({background:"none",border:"0","border-radius":"0"})}(e)},backgroundColor:null,allowTaint:!0,useCORS:!0,width:o,height:n,x:t,y:a,scale:1,imageSmoothingEnabled:!1}).then(e=>{e.toBlob(function(o){try{window.saveAs(o,"my_doll.png",e.toDataURL("image/png"))}catch(n){alert(n)}})})})});